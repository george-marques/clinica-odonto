<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>

	<link
		href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
		rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
		crossorigin="anonymous" />

	<title>Histórico de vendas</title>
</h:head>

<h:body>
	<h:form>
		<h:panelGrid id="panelDataTable">
			<p:dataTable id="dt-vendas" widgetVar="dtVendas" reflow="true"
				styleClass="vendas-table" rowKey="#{obj.id}"
				value="#{vendaListing.list}" paginator="true" rows="3"
				rowSelectMode="add" paginatorPosition="bottom" var="obj">

				<f:facet name="header">
					<div class="vendas-table-header">
						<span class="filter-container ui-input-icon-left">


							<div class="ui-inputgroup">

								<p:commandButton icon="pi pi-search" value="Buscar"
									styleClass="ui-button-warning ui-button-raised"
									actionListener="#{vendaListing.pesquisar}" process="@this"
									update="dt-vendas" />
							</div>


						</span>

					</div>
				</f:facet>


				<p:column headerText="Código" sortBy="#{obj.id}">
					<p:outputLabel value="#{obj.id}" />
				</p:column>

				<p:column headerText="Data" sortBy="#{obj.data}">
					<p:outputLabel value="#{obj.data}" />
				</p:column>


				<p:column headerText="Total Venda" sortBy="#{obj.totalVenda}">
					<p:outputLabel value="#{obj.totalVenda}">

						<f:convertNumber currencySymbol="R$" type="currency" />

					</p:outputLabel>
				</p:column>


				<p:column exportable="false" headerText="Ação">
					<p:commandButton value="Selecionar" actionListener="#{vendaListing.select(obj.id)}"
						icon="pi pi-pencil" process="@this" update="@form"
						styleClass="edit-button rounded-button ui-button-raised ui-button-success">


					</p:commandButton>

				</p:column>
			</p:dataTable>
		</h:panelGrid>

	</h:form>
</h:body>
</html>